*NetForge - Network Device Simulation Framework*

```
     ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
     ‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù
     ‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó      ‚ñà‚ñà‚ïë    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ñà‚ïë ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
     ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù      ‚ñà‚ñà‚ïë    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù
     ‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó    ‚ñà‚ñà‚ïë    ‚ñà‚ñà‚ïë      ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
     ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù    ‚ïö‚ïê‚ïù    ‚ïö‚ïê‚ïù       ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù  ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

# NetForge

NetForge is a comprehensive C# .NET 9.0 framework for simulating enterprise network devices with realistic CLI behavior, advanced protocol implementations, and sophisticated network topology management.

## üöÄ Key Features

### Multi-Vendor Support (15+ Vendors)
- **Cisco** - IOS/IOS-XE command structure
- **Juniper** - JunOS with commit-based configuration
- **Arista** - EOS with modern networking features
- **Huawei** - VRP command structure
- **Fortinet** - FortiOS security-focused CLI
- **Nokia** - SR OS hierarchical configuration
- **Dell** - OS10/PowerSwitch commands
- **Extreme** - EXOS policy-based management
- **MikroTik** - RouterOS with unique syntax
- **F5** - TMOS load balancer commands
- **Aruba** - ArubaOS wireless and switching
- **Broadcom** - SONiC commands
- **Alcatel** - AOS enterprise switching
- **Anira** - Network simulation commands
- **Linux** - Standard Linux networking

### Protocol Implementations (17 Protocols)
- **Routing**: OSPF, BGP, RIP, EIGRP, IS-IS, IGRP
- **Discovery**: CDP, LLDP, ARP
- **Redundancy**: VRRP, HSRP
- **Layer 2**: STP
- **Management**: SSH, Telnet, SNMP, HTTP
- **All protocols feature**:
  - Full state machine implementation
  - Vendor-aware behavior
  - Event-driven architecture
  - Performance optimized

### Modern Architecture
- **Declarative Vendor System**: Vendor capabilities defined in descriptor classes
- **Auto-Registration**: Protocols and CLI handlers automatically registered based on vendor capabilities
- **Dependency Injection**: Full IoC container support with service registration
- **Interface Segregation**: Clean separation of concerns with 9 focused interfaces
- **Value Objects**: Type-safe network primitives (IpAddress, MacAddress, NetworkPrefix)
- **Command Pattern**: Shared business logic with vendor-specific formatting

## üèóÔ∏è Solution Structure

```
NetForge/
‚îú‚îÄ‚îÄ NetForge.Interfaces/                    # Core interface definitions
‚îú‚îÄ‚îÄ NetForge.Simulation.Common/             # Shared models and base classes
‚îú‚îÄ‚îÄ NetForge.Simulation.DataTypes/          # Value objects and validation
‚îú‚îÄ‚îÄ NetForge.Simulation.EventBus/           # Event-driven messaging
‚îú‚îÄ‚îÄ NetForge.Simulation.Topology/           # Network topology and devices
‚îÇ   ‚îú‚îÄ‚îÄ Common/Vendors/                     # Vendor system implementation
‚îÇ   ‚îú‚îÄ‚îÄ Vendors/                            # Vendor descriptors (Cisco, Juniper, Arista)
‚îÇ   ‚îî‚îÄ‚îÄ Devices/                            # Device implementations
‚îú‚îÄ‚îÄ NetForge.Simulation.Protocols/          # Protocol implementations
‚îÇ   ‚îú‚îÄ‚îÄ NetForge.Simulation.Protocols.Common/      # Protocol base classes
‚îÇ   ‚îú‚îÄ‚îÄ NetForge.Simulation.Protocols.OSPF/        # OSPF with SPF algorithm
‚îÇ   ‚îú‚îÄ‚îÄ NetForge.Simulation.Protocols.BGP/         # BGP with path selection
‚îÇ   ‚îú‚îÄ‚îÄ NetForge.Simulation.Protocols.CDP/         # CDP with TLV processing
‚îÇ   ‚îî‚îÄ‚îÄ [14 other protocol implementations]
‚îú‚îÄ‚îÄ NetForge.Simulation.CliHandlers/        # CLI implementations
‚îÇ   ‚îú‚îÄ‚îÄ NetForge.Simulation.CliHandlers.Common/    # Shared CLI services
‚îÇ   ‚îú‚îÄ‚îÄ NetForge.Simulation.CliHandlers.Cisco/     # Cisco IOS CLI
‚îÇ   ‚îî‚îÄ‚îÄ [14 other vendor CLI handlers]
‚îú‚îÄ‚îÄ NetForge.Simulation.Handlers.Common/    # Handler infrastructure
‚îú‚îÄ‚îÄ NetForge.Tests/                         # Unit and integration tests
‚îî‚îÄ‚îÄ NetForge.Player/                        # CLI tool for network simulation
```

## üìä Implementation Status

### ‚úÖ Completed Components
- **Vendor System**: Declarative vendor architecture with descriptors for Cisco, Juniper, Arista
- **Auto-Registration System**: Protocols and CLI handlers automatically registered based on vendor capabilities
- **CLI Handlers**: All 15 vendor implementations complete with command processing
- **Protocols**: All 17 protocols implemented with full state management
- **Interface Segregation**: INetworkDevice split into 9 focused interfaces
- **Value Objects**: Network primitives with validation (IpAddress, MacAddress, etc.)
- **Test Infrastructure**: Comprehensive testing with MockDeviceBuilder
- **Service Delegation**: NetworkDevice refactored with specialized service classes

### üìà Protocol Details

| Protocol | Type | Status | Lines | Features |
|----------|------|--------|-------|----------|
| **OSPF** | Routing | ‚úÖ Complete | 541 | SPF algorithm, LSA database, Areas |
| **BGP** | Routing | ‚úÖ Complete | 509 | FSM, Path selection, Peer management |
| **RIP** | Routing | ‚úÖ Complete | 360 | Distance vector, Split horizon |
| **EIGRP** | Routing | ‚úÖ Complete | ~500 | DUAL algorithm, Feasible successors |
| **IS-IS** | Routing | ‚úÖ Complete | ~500 | Link-state database, SPF |
| **IGRP** | Routing | ‚úÖ Complete | ~200 | Legacy protocol support |
| **CDP** | Discovery | ‚úÖ Complete | 1248 | Full TLV processing, Neighbor discovery |
| **LLDP** | Discovery | ‚úÖ Complete | ~400 | IEEE 802.1AB standard |
| **ARP** | Discovery | ‚úÖ Complete | ~300 | Table management, Request/Reply |
| **VRRP** | HA | ‚úÖ Complete | ~400 | Virtual router, Master election |
| **HSRP** | HA | ‚úÖ Complete | ~400 | State machine, Virtual MAC |
| **STP** | Layer 2 | ‚úÖ Complete | 587 | BPDU processing, Root election |
| **SSH** | Management | ‚úÖ Complete | ~400 | Secure access, Authentication |
| **Telnet** | Management | ‚úÖ Complete | ~300 | Multi-session support |
| **SNMP** | Management | ‚úÖ Complete | 317 | MIB management, Traps |
| **HTTP** | Management | ‚úÖ Complete | ~300 | Web interface support |

## üöÄ Quick Start

### Prerequisites
- .NET 9.0 SDK
- Visual Studio 2022 or VS Code
- Windows 10/11 or Linux

### Build and Run
```bash
# Clone the repository
git clone https://github.com/yourusername/NetForge.git
cd NetForge

# Build the solution
dotnet build

# Run tests
dotnet test

# Run the player CLI
dotnet run --project NetForge.Player
```

### Basic Usage Example

```csharp
using NetForge.Simulation.Topology;
using NetForge.Interfaces.Devices;

// Create a network device
var ciscoRouter = new NetworkDevice
{
    Name = "Router1",
    Vendor = "Cisco",
    DeviceType = "Router"
};

// Initialize with vendor system (auto-registers protocols and CLI handlers)
var serviceProvider = new ServiceCollection()
    .ConfigureVendorSystem()
    .BuildServiceProvider();

await VendorSystemStartup.InitializeDeviceWithVendorSystemAsync(ciscoRouter, serviceProvider);

// Add interfaces
var gi0 = new InterfaceConfig
{
    Name = "GigabitEthernet0/0",
    IpAddress = "192.168.1.1",
    SubnetMask = "255.255.255.0",
    IsUp = true
};
ciscoRouter.GetInterfaceManager().AddInterface(gi0);

// Process CLI commands
var output = await ciscoRouter.ProcessCommand("show ip interface brief");
Console.WriteLine(output);
```

### Using Declarative API

```csharp
using NetForge.Simulation.Common.Declarative;

// Build topology declaratively
var topology = new DeclarativeTopologyFactory(serviceProvider)
    .CreateTopology(spec => spec
        .WithName("Test Network")
        .AddDevice(device => device
            .WithName("Router1")
            .WithVendor("Cisco")
            .WithModel("ISR4451")
            .AddInterface("GigabitEthernet0/0", "192.168.1.1", "255.255.255.0")
            .AddProtocol("OSPF", config => config.ProcessId = 1))
        .AddDevice(device => device
            .WithName("Router2")
            .WithVendor("Juniper")
            .WithModel("MX204")
            .AddInterface("ge-0/0/0", "192.168.1.2", "255.255.255.0")
            .AddProtocol("OSPF", config => config.ProcessId = 1))
        .ConnectDevices("Router1", "GigabitEthernet0/0", "Router2", "ge-0/0/0"));

// Network is ready with OSPF running
await topology.StartAsync();
```

## üéØ Use Cases

### Education & Training
- Learn networking concepts with realistic device behavior
- Practice for vendor certifications (CCNA, JNCIA, etc.)
- Understand protocol operations and troubleshooting

### Development & Testing
- Test network automation scripts safely
- Validate configurations before deployment
- Develop network management applications

### Research
- Protocol behavior analysis
- Network topology modeling
- Performance optimization studies

## üõ†Ô∏è Development

### Architecture Highlights
- **SOLID Principles**: Clean architecture with dependency injection
- **Event-Driven**: Protocol events and state changes
- **Async/Await**: Non-blocking operations throughout
- **Memory Efficient**: Automatic cleanup and resource management
- **Performance Optimized**: Sub-second CLI responses, fast protocol convergence

### Key Design Patterns
- **Vendor Descriptor Pattern**: Declarative vendor capability definition
- **Service Delegation**: Separation of concerns in NetworkDevice
- **Command Pattern**: CLI command processing with vendor formatters
- **State Machine**: Protocol state management
- **Value Objects**: Type-safe network primitives

### Testing
The project includes comprehensive testing:
- Unit tests for all major components
- Integration tests for protocol interactions
- CLI handler tests for each vendor
- Mock builders for test data creation

## üìö Documentation

- [Architecture Overview](CLAUDE.md) - Detailed architecture documentation
- [Contributing Guide](CONTRIBUTING.md) - How to contribute to the project
- [Security Policy](SECURITY.md) - Security guidelines
- [Code of Conduct](CODE_OF_CONDUCT.md) - Community guidelines

Each major component has its own README:
- [Protocols Documentation](NetForge.Simulation.Protocols/CLAUDE.md)
- [CLI Handlers Documentation](NetForge.Simulation.CliHandlers/README.md)
- [Topology Documentation](NetForge.Simulation.Topology/README.md)

## ü§ù Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md) for details on:
- Development setup
- Coding standards
- Testing requirements
- Pull request process

## üìÑ License

This project is designed for educational and research purposes. See [LICENSE](LICENSE) for details.

## üôè Acknowledgments

- Built with .NET 9.0 and C# 13
- Inspired by real-world networking equipment
- Community contributions and feedback

---

**Note**: This is a simulation framework for educational purposes. Vendor-specific behaviors are implemented for learning and testing, not commercial replication.